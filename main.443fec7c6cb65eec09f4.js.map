{"version":3,"sources":["webpack:///./js/main.js","webpack:///./index.js"],"names":["window","matchMedia","matches","$","toggle","toggleClass","click","localStorage","getItem","removeItem","setItem","removeClass","this","addClass","tooltip","search","document","getElementById","content","querySelector","contentBox","querySelectorAll","allContent","menuItems","forEach","item","textContent","classList","add","addEventListener","e","searchQuery","target","toLowerCase","setLocation","replace","el","parentElement","remove","contentArr","debounce","value","length","innerHTML","appendChild","placeholder","preventDefault","localName","getAttribute","href","location","searchWin","indexOf","slice","replaceText","decodeURIComponent","curLoc","history","pushState","hash","query","i","children","innerText","push","resBlock","append"],"mappings":"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","file":"main.443fec7c6cb65eec09f4.js","sourcesContent":["if (window.matchMedia('(max-width: 767px)').matches) {\r\n    $('.fa-caret-square-left').toggle();\r\n    $('.fa-caret-square-right').toggle();\r\n\r\n    $('.navbar-left li a span').toggle();\r\n    $('.navbar-left').toggleClass('small');\r\n    $('.body-pane').toggleClass('small');\r\n}\r\n\r\n\r\n$('.menu-btn').click(function() {\r\n    $('.fa-caret-square-left').toggle();\r\n    $('.fa-caret-square-right').toggle();\r\n\r\n    $('.navbar-left li a span').toggle();\r\n    $('.navbar-left').toggleClass('small');\r\n    $('.body-pane').toggleClass('small');\r\n\r\n    if (localStorage.getItem('menu')) {\r\n        localStorage.removeItem('menu');\r\n    }\r\n    else {\r\n     localStorage.setItem('menu', 'active');\r\n    }\r\n})\r\n\r\n\r\nif (localStorage.getItem('menu')) {\r\n    $('.fa-caret-square-left').toggle();\r\n    $('.fa-caret-square-right').toggle();\r\n\r\n    $('.navbar-left li a span').toggle();\r\n    $('.navbar-left').toggleClass('small');\r\n    $('.body-pane').toggleClass('small');\r\n}\r\n\r\n\r\n$('.menu li').click(function() {\r\n    $('.menu li').removeClass('active');\r\n    $(this).addClass('active');\r\n})\r\n\r\n\r\n$(function () {\r\n    $('[data-toggle=\"tooltip\"]').tooltip()\r\n  })\r\n","import './sass/styles.scss';\r\nimport './js/main.js';\r\nimport debounce from 'lodash.debounce';\r\n\r\n\r\nconst search = document.getElementById('search');\r\nconst content = document.querySelector('.content');\r\nconst contentBox = document.querySelectorAll('.content .content-item');\r\nconst allContent = document.querySelectorAll('.content .content-item');\r\nconst menuItems = document.querySelectorAll('.menu a');\r\nconst tags = document.querySelectorAll('.tags');\r\n\r\ntags.forEach(item => {\r\n    if (item.textContent) {\r\n        item.classList.add('active');\r\n\r\n        item.addEventListener('click', (e) => {\r\n            searchQuery(e.target.textContent.toLowerCase());\r\n            setLocation(`?search=${e.target.textContent.replace(/ /g, '_')}`);\r\n\r\n            menuItems.forEach(el => {\r\n                el.parentElement.classList.remove('active');\r\n            })\r\n        })\r\n    }\r\n})\r\n\r\nlet contentArr = [];\r\n\r\n\r\nsearch.addEventListener('input', debounce((e) => {\r\n\r\n    if (e.target.value.length > 2) {\r\n        searchQuery(e.target.value.toLowerCase());\r\n        setLocation(`?search=${e.target.value.replace(/ /g, '_')}`);\r\n    }\r\n\r\n    else if (e.target.value === '') {\r\n        content.innerHTML = '';\r\n        setLocation('/');\r\n        document.querySelector('h1').textContent = '';\r\n\r\n        allContent.forEach(item => {\r\n            content.appendChild(item);\r\n        })  \r\n    }\r\n}, 300))\r\n\r\nsearch.addEventListener('focus', (e) => {\r\n    e.target.placeholder = 'Начните вводить, чтобы найти информацию...';\r\n})\r\n\r\nsearch.addEventListener('blur', (e) => {\r\n    e.target.placeholder = 'Поиск';\r\n})\r\n\r\n\r\nmenuItems.forEach(item => {\r\n\r\n    item.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        \r\n        if (e.target.localName === 'a') {\r\n            searchQuery(e.target.getAttribute('data-search'));\r\n\r\n            if (e.target.getAttribute('data-search')) {\r\n                setLocation(`?search=${e.target.getAttribute('data-search').replace(/ /g, '_')}`);\r\n                document.querySelector('h1').textContent = e.target.getAttribute('data-search');\r\n            }\r\n            \r\n            else {\r\n                setLocation('/westgard/');\r\n                document.querySelector('h1').textContent = '';\r\n            }\r\n        }\r\n\r\n        else if (e.target.localName === 'span' || e.target.localName === 'i') {\r\n            searchQuery(e.target.parentElement.getAttribute('data-search'));\r\n\r\n            if (e.target.parentElement.getAttribute('data-search')) {\r\n                document.querySelector('h1').textContent = e.target.parentElement.getAttribute('data-search');\r\n                setLocation(`?search=${e.target.parentElement.getAttribute('data-search').replace(/ /g, '_')}`);\r\n            }\r\n            else {\r\n                setLocation('/westgard/');\r\n                document.querySelector('h1').textContent = '';\r\n            }\r\n        }\r\n    })\r\n})\r\n\r\n\r\n\r\nlet href = window.location.href;\r\nlet searchWin = window.location.search;\r\n\r\nif (href.indexOf('?search=') != -1) {\r\n    searchWin = searchWin.slice(1).toLowerCase();\r\n    let utmArr = [searchWin];\r\n  \r\n\r\n    utmArr.forEach(el => {\r\n        let replaceText = decodeURIComponent(el).replace(/_/g, ' ');\r\n        document.querySelector('h1').textContent = replaceText.replace(/search=/g, ' ');\r\n        searchQuery(replaceText.replace(/search=/g, ' ').replace(' ', ''));\r\n        menuItems.forEach(item => {\r\n            item.parentElement.classList.remove('active');\r\n\r\n            if (item.getAttribute('data-search') === (replaceText.replace(/search=/g, ' ').replace(' ', ''))) {\r\n                item.parentElement.classList.add('active');\r\n            }\r\n        })\r\n    })\r\n\r\n  }\r\n\r\n\r\nfunction setLocation(curLoc){\r\n\r\n    try {\r\n      history.pushState(null, null, curLoc);\r\n      return;\r\n    } catch(e) {}\r\n    location.hash = '#' + curLoc;\r\n}\r\n\r\n\r\n\r\n\r\nfunction searchQuery(query) {\r\n    contentArr = [];\r\n\r\n    contentBox.forEach(item => {\r\n        for (let i = 0; i < item.children[0].children.length; i++) {\r\n            if (item.children[0].children[i].innerText.toLowerCase().indexOf(query.toLowerCase()) !== -1 ) {\r\n            contentArr.push(item);\r\n        }\r\n    }\r\n    })\r\n\r\n    if (contentArr[0]) {\r\n        let resBlock = contentArr;\r\n    \r\n        content.innerHTML = '';\r\n        content.append(...resBlock);\r\n    }\r\n\r\n    else {\r\n        content.innerHTML = 'Ничего не смогли найти! Попробуйте сменить запрос!';\r\n    }\r\n}\r\n\r\n\r\n"],"sourceRoot":""}